name: Instantiate new project
description: 'Instantiate new project from template repository'

runs:
  using: 'composite'
  steps:
  - name: Checkout source
    uses: actions/checkout@v3

  - name: Install dependencies
    run: pip install package-dev-tools
    shell: bash

  - name: Run instantiation
    run: instantiate-new-project --project-name ${{ github.event.repository.name }}
    shell: bash

  - name: Push changes
    run: |
      git push
    shell: bash
